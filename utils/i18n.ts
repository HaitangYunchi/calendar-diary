
export const translations = {
  'zh-CN': {
    appTitle: "日历日记",
    monthlyPlan: "月度计划",
    dailyEditor: "每日记录",
    todoEvents: "待办事项 / 日记",
    moodStickers: "心情 / 贴纸",
    addItem: "添加事项",
    cancel: "取消",
    saveChanges: "保存更改",
    settings: "设置",
    storageData: "存储与数据",
    dataLocation: "数据位置",
    exportBackup: "导出备份",
    importBackup: "导入备份",
    writeTask: "写下一件与你有关的事…",
    writeGoal: "在此写下你的目标...",
    importSuccess: "导入成功！",
    importError: "文件格式无效。",
    confirmDelete: "确定删除吗？",
    clickToEdit: "点击编辑",
    noEntries: "本月暂无记录",
    language: "语言",
    aboutApp: "关于应用",
    appDescription: "一款简洁优雅的日历日记应用，帮助你记录每天的任务、计划和心情。支持多语言，数据本地存储，保护你的隐私。",
    version: "版本",
    platform: "平台",
    allRightsReserved: "保留所有权利",
    weekDays: ["周日", "周一", "周二", "周三", "周四", "周五", "周六"],
    months: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    entriesCount: "共{count}条记录",
    generalSettings: "常规设置",
    securityPrivacy: "安全与隐私",
    searchDiary: "搜索日记",
    searchPlaceholder: "输入关键词搜索日记内容...",
    searchStart: "输入关键词开始搜索",
    searchNoResults: "未找到包含 \"{query}\" 的日记",
    searchResultsCount: "找到 {count} 条结果"
    ,
    securityEnableTitle: "启动密码保护",
    securityEnableLabel: "启用密码保护",
    securityEnableDesc: "应用启动时需要验证身份",
    securityMethodConfig: "配置验证方式：",
    pinMethod: "PIN 码",
    pinStatusSet: "已设置",
    pinStatusNotSet: "未设置",
    pinSetSuccess: "PIN 码已设置",
    pinCancel: "取消 PIN 码",
    pinLabelSet: "设置 PIN 码",
    pinLabelEdit: "修改 PIN 码",
    pinPlaceholder: "输入 4-8 位数字",
    pinConfirmLabel: "确认 PIN 码",
    pinConfirmPlaceholder: "再次输入 PIN 码",
    totpMethod: "验证器",
    totpConfigured: "验证器已配置",
    totpConfiguredDesc: "您的验证器应用已绑定此账户",
    totpCancel: "取消验证器",
    totpGenerateSecret: "生成验证器密钥",
    securityAtLeastOne: "请至少配置一种验证方式，如果无需验证请关闭上方开关再保存",
    totpScanQr: "扫描二维码",
    totpScanDesc: "使用 Google Authenticator、Microsoft Authenticator 或其他验证器应用扫描",
    totpManualInput: "手动输入密钥：",
    totpCopySecret: "复制密钥",
    totpEnterCodeConfirm: "输入验证码以确认",
    totpCodePlaceholder: "输入 6 位验证码",
    totpVerifyButton: "验证",
    totpGetCodeHint: "从验证器应用中获取当前验证码",
    totpVerifiedSaveReady: "验证码已通过，可以保存",
    pinTooShort: "PIN 码至少需要 4 位数字",
    pinMismatch: "两次输入的 PIN 码不一致",
    totpClickVerify: "请点击\"验证\"按钮确认验证码",
    totpMissingSecret: "请先生成验证器密钥"
  },
  'zh-TW': {
    appTitle: "日曆日記",
    monthlyPlan: "月度計劃",
    dailyEditor: "每日記錄",
    todoEvents: "待辦事項 / 日記",
    moodStickers: "心情 / 貼紙",
    addItem: "新增事項",
    cancel: "取消",
    saveChanges: "儲存變更",
    settings: "設定",
    storageData: "儲存與資料",
    dataLocation: "資料位置",
    exportBackup: "匯出備份",
    importBackup: "匯入備份",
    writeTask: "寫下一件與你有關的事…",
    writeGoal: "在此寫下你的目標...",
    importSuccess: "匯入成功！",
    importError: "檔案格式無效。",
    confirmDelete: "確定刪除嗎？",
    clickToEdit: "點擊編輯",
    noEntries: "本月暂無記錄",
    language: "語言",
    aboutApp: "關於應用",
    appDescription: "一款簡潔優雅的日曆日記應用，幫助你記錄每天的任務、計劃和心情。支持多語言，數據本地存儲，保護你的隱私。",
    version: "版本",
    platform: "平台",
    allRightsReserved: "保留所有權利",
    weekDays: ["週日", "週一", "週二", "週三", "週四", "週五", "週六"],
    months: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    entriesCount: "共{count}條記錄",
    generalSettings: "常規設定",
    securityPrivacy: "安全與隱私",
    searchDiary: "搜尋日記",
    searchPlaceholder: "輸入關鍵詞搜尋日記內容...",
    searchStart: "輸入關鍵詞開始搜尋",
    searchNoResults: "未找到包含 \"{query}\" 的日記",
    searchResultsCount: "找到 {count} 條結果"
    ,
    securityEnableTitle: "啟動密碼保護",
    securityEnableLabel: "啟用密碼保護",
    securityEnableDesc: "應用啟動時需要驗證身份",
    securityMethodConfig: "配置驗證方式：",
    pinMethod: "PIN 碼",
    pinStatusSet: "已設定",
    pinStatusNotSet: "未設定",
    pinSetSuccess: "PIN 碼已設定",
    pinCancel: "取消 PIN 碼",
    pinLabelSet: "設定 PIN 碼",
    pinLabelEdit: "修改 PIN 碼",
    pinPlaceholder: "輸入 4-8 位數字",
    pinConfirmLabel: "確認 PIN 碼",
    pinConfirmPlaceholder: "再次輸入 PIN 碼",
    totpMethod: "驗證器",
    totpConfigured: "驗證器已配置",
    totpConfiguredDesc: "您的驗證器應用已綁定此帳戶",
    totpCancel: "取消驗證器",
    totpGenerateSecret: "生成驗證器密鑰",
    securityAtLeastOne: "請至少配置一種驗證方式，若無需驗證請關閉上方開關再保存",
    totpScanQr: "掃描二維碼",
    totpScanDesc: "使用 Google/Microsoft Authenticator 或其他應用掃描",
    totpManualInput: "手動輸入密鑰：",
    totpCopySecret: "複製密鑰",
    totpEnterCodeConfirm: "輸入驗證碼以確認",
    totpCodePlaceholder: "輸入 6 位驗證碼",
    totpVerifyButton: "驗證",
    totpGetCodeHint: "從驗證器應用中獲取當前驗證碼",
    totpVerifiedSaveReady: "驗證碼已通過，可以保存",
    pinTooShort: "PIN 碼至少需要 4 位數字",
    pinMismatch: "兩次輸入的 PIN 碼不一致",
    totpClickVerify: "請點擊\"驗證\"按鈕確認驗證碼",
    totpMissingSecret: "請先生成驗證器密鑰"
  },
  'en': {
    appTitle: "Calendar Diary",
    monthlyPlan: "Monthly Plan",
    dailyEditor: "Daily Editor",
    todoEvents: "To-Do / Diary",
    moodStickers: "Mood / Stickers",
    addItem: "Add Item",
    cancel: "Cancel",
    saveChanges: "Save Changes",
    settings: "Settings",
    storageData: "Storage & Data",
    dataLocation: "Data Location",
    exportBackup: "Export Backup",
    importBackup: "Import Backup",
    writeTask: "Write something about you…",
    writeGoal: "Write your goal here...",
    importSuccess: "Import successful!",
    importError: "Invalid format.",
    confirmDelete: "Delete?",
    clickToEdit: "Click to Edit",
    noEntries: "No entries found.",
    language: "Language",
    aboutApp: "About",
    appDescription: "A simple and elegant calendar diary app that helps you record daily tasks, plans, and moods. Supports multiple languages with local data storage to protect your privacy.",
    version: "Version",
    platform: "Platform",
    allRightsReserved: "All rights reserved",
    weekDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    months: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    entriesCount: "Total {count} entries",
    generalSettings: "General Settings",
    securityPrivacy: "Security & Privacy",
    searchDiary: "Search Diary",
    searchPlaceholder: "Type keywords to search diary...",
    searchStart: "Type keywords to start searching",
    searchNoResults: "No diary containing \"{query}\" found",
    searchResultsCount: "Found {count} results"
    ,
    securityEnableTitle: "Enable Startup Protection",
    securityEnableLabel: "Enable Password Protection",
    securityEnableDesc: "Require authentication at app startup",
    securityMethodConfig: "Configure authentication method:",
    pinMethod: "PIN",
    pinStatusSet: "Configured",
    pinStatusNotSet: "Not configured",
    pinSetSuccess: "PIN is set",
    pinCancel: "Remove PIN",
    pinLabelSet: "Set PIN",
    pinLabelEdit: "Edit PIN",
    pinPlaceholder: "Enter 4–8 digits",
    pinConfirmLabel: "Confirm PIN",
    pinConfirmPlaceholder: "Re-enter PIN",
    totpMethod: "Authenticator",
    totpConfigured: "Authenticator configured",
    totpConfiguredDesc: "Your authenticator app is linked",
    totpCancel: "Remove authenticator",
    totpGenerateSecret: "Generate authenticator secret",
    securityAtLeastOne: "Configure at least one method or disable protection above",
    totpScanQr: "Scan QR code",
    totpScanDesc: "Scan with Google/Microsoft Authenticator or similar",
    totpManualInput: "Manual secret:",
    totpCopySecret: "Copy secret",
    totpEnterCodeConfirm: "Enter code to confirm",
    totpCodePlaceholder: "Enter 6-digit code",
    totpVerifyButton: "Verify",
    totpGetCodeHint: "Get current code from authenticator app",
    totpVerifiedSaveReady: "Code verified, you can save",
    pinTooShort: "PIN must be at least 4 digits",
    pinMismatch: "PIN entries do not match",
    totpClickVerify: "Click \"Verify\" to confirm code",
    totpMissingSecret: "Generate authenticator secret first"
  },
  'ja': {
    appTitle: "カレンダー日記",
    monthlyPlan: "月間計画",
    dailyEditor: "日記編集",
    todoEvents: "タスク / 日記",
    moodStickers: "ムード / ステッカー",
    addItem: "項目を追加",
    cancel: "キャンセル",
    saveChanges: "変更を保存",
    settings: "設定",
    storageData: "ストレージとデータ",
    dataLocation: "データ保存場所",
    exportBackup: "バックアップをエクスポート",
    importBackup: "バックアップをインポート",
    writeTask: "あなたのことを書いて…",
    writeGoal: "目標を入力...",
    importSuccess: "インポート成功！",
    importError: "無効な形式。",
    confirmDelete: "削除しますか？",
    clickToEdit: "クリックして編集",
    noEntries: "今月の記録はありません",
    language: "言語",
    aboutApp: "アプリについて",
    appDescription: "毎日のタスク、計画、気分を記録するシンプルでエレガントなカレンダー日記アプリ。多言語対応、ローカルデータ保存でプライバシーを保護。",
    version: "バージョン",
    platform: "プラットフォーム",
    allRightsReserved: "全ての権利保留",
    weekDays: ["日", "月", "火", "水", "木", "金", "土"],
    months: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    entriesCount: "全{count}件の記録",
    generalSettings: "一般設定",
    securityPrivacy: "セキュリティとプライバシー",
    searchDiary: "日記検索",
    searchPlaceholder: "キーワードで日記を検索...",
    searchStart: "キーワードを入力して検索開始",
    searchNoResults: "\"{query}\" を含む日記は見つかりませんでした",
    searchResultsCount: "{count} 件が見つかりました"
    ,
    securityEnableTitle: "起動時の保護",
    securityEnableLabel: "パスワード保護を有効",
    securityEnableDesc: "アプリ起動時に認証が必要",
    securityMethodConfig: "認証方式の設定：",
    pinMethod: "PIN",
    pinStatusSet: "設定済み",
    pinStatusNotSet: "未設定",
    pinSetSuccess: "PIN が設定されました",
    pinCancel: "PIN を解除",
    pinLabelSet: "PIN を設定",
    pinLabelEdit: "PIN を変更",
    pinPlaceholder: "4〜8桁を入力",
    pinConfirmLabel: "PIN を確認",
    pinConfirmPlaceholder: "PIN を再入力",
    totpMethod: "認証アプリ",
    totpConfigured: "認証アプリが設定済み",
    totpConfiguredDesc: "認証アプリがこのアカウントに連携されています",
    totpCancel: "認証アプリを解除",
    totpGenerateSecret: "認証用シークレットを生成",
    securityAtLeastOne: "少なくとも1つの方式を設定するか、保護を無効にしてください",
    totpScanQr: "QRコードをスキャン",
    totpScanDesc: "Google/Microsoft Authenticator などでスキャン",
    totpManualInput: "手動入力：",
    totpCopySecret: "シークレットをコピー",
    totpEnterCodeConfirm: "確認コードを入力",
    totpCodePlaceholder: "6桁のコード",
    totpVerifyButton: "確認",
    totpGetCodeHint: "認証アプリのコードを入力",
    totpVerifiedSaveReady: "コード確認済み、保存できます",
    pinTooShort: "PIN は最低 4 桁",
    pinMismatch: "PIN が一致しません",
    totpClickVerify: "\"確認\"をクリックしてコードを確認",
    totpMissingSecret: "先にシークレットを生成してください"
  },
  'ko': {
    appTitle: "캘린더 일기",
    monthlyPlan: "월간 계획",
    dailyEditor: "일일 편집기",
    todoEvents: "할 일 / 일기",
    moodStickers: "기분 / 스티커",
    addItem: "항목 추가",
    cancel: "취소",
    saveChanges: "변경 사항 저장",
    settings: "설정",
    storageData: "저장 및 데이터",
    dataLocation: "데이터 위치",
    exportBackup: "백업 내보내기",
    importBackup: "백업 가져오기",
    writeTask: "당신에 관한 일을 적어보세요…",
    writeGoal: "목표를 입력하세요...",
    importSuccess: "가져오기 성공!",
    importError: "잘못된 형식입니다.",
    confirmDelete: "삭제하시겠습니까?",
    clickToEdit: "클릭하여 편집",
    noEntries: "이번 달에 기록이 없습니다",
    language: "언어",
    aboutApp: "앱 정보",
    appDescription: "매일의 작업, 계획, 기분을 기록하는 간결하고 우아한 캘린더 다이어리 앱. 다국어 지원, 로컬 데이터 저장으로 개인정보를 보호합니다.",
    version: "버전",
    platform: "플랫폼",
    allRightsReserved: "모든 권리 보유",
    weekDays: ["일", "월", "화", "수", "목", "금", "토"],
    months: ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월"],
    entriesCount: "총 {count}개의 기록",
    generalSettings: "일반 설정",
    securityPrivacy: "보안 및 개인 정보",
    searchDiary: "일기 검색",
    searchPlaceholder: "키워드로 일기를 검색...",
    searchStart: "키워드를 입력해 검색 시작",
    searchNoResults: "\"{query}\"가 포함된 일기를 찾지 못했습니다",
    searchResultsCount: "{count}개 결과를 찾았습니다"
    ,
    securityEnableTitle: "시작 암호 보호",
    securityEnableLabel: "암호 보호 사용",
    securityEnableDesc: "앱 시작 시 인증 필요",
    securityMethodConfig: "인증 방식 설정:",
    pinMethod: "PIN",
    pinStatusSet: "설정됨",
    pinStatusNotSet: "미설정",
    pinSetSuccess: "PIN이 설정되었습니다",
    pinCancel: "PIN 해제",
    pinLabelSet: "PIN 설정",
    pinLabelEdit: "PIN 변경",
    pinPlaceholder: "4–8자리 입력",
    pinConfirmLabel: "PIN 확인",
    pinConfirmPlaceholder: "PIN 다시 입력",
    totpMethod: "인증 앱",
    totpConfigured: "인증 앱 설정됨",
    totpConfiguredDesc: "인증 앱이 계정에 연결됨",
    totpCancel: "인증 앱 해제",
    totpGenerateSecret: "인증 시크릿 생성",
    securityAtLeastOne: "최소 한 가지 방식을 설정하거나 보호를 해제하세요",
    totpScanQr: "QR 코드 스캔",
    totpScanDesc: "Google/Microsoft Authenticator 등 사용",
    totpManualInput: "시크릿 수동 입력:",
    totpCopySecret: "시크릿 복사",
    totpEnterCodeConfirm: "코드 입력 후 확인",
    totpCodePlaceholder: "6자리 코드",
    totpVerifyButton: "확인",
    totpGetCodeHint: "인증 앱에서 코드를 입력",
    totpVerifiedSaveReady: "코드 확인됨, 저장 가능",
    pinTooShort: "PIN은 최소 4자리",
    pinMismatch: "PIN이 일치하지 않음",
    totpClickVerify: "\"확인\"을 눌러 코드 확인",
    totpMissingSecret: "먼저 시크릿을 생성하세요"
  },
  'ru': {
    appTitle: "Календарь-дневник",
    monthlyPlan: "Месячный план",
    dailyEditor: "Ежедневный редактор",
    todoEvents: "Задачи / Дневник",
    moodStickers: "Настроение / Стикеры",
    addItem: "Добавить элемент",
    cancel: "Отмена",
    saveChanges: "Сохранить изменения",
    settings: "Настройки",
    storageData: "Хранение и данные",
    dataLocation: "Расположение данных",
    exportBackup: "Экспорт резервной копии",
    importBackup: "Импорт резервной копии",
    writeTask: "Напишите что-то о себе…",
    writeGoal: "Введите вашу цель...",
    importSuccess: "Импорт успешен!",
    importError: "Неверный формат.",
    confirmDelete: "Удалить?",
    clickToEdit: "Нажмите для редактирования",
    noEntries: "Записей не найдено.",
    language: "Язык",
    aboutApp: "О приложении",
    appDescription: "Простое и элегантное приложение-дневник для записи ежедневных задач, планов и настроения. Поддержка нескольких языков и локальное хранение данных.",
    version: "Версия",
    platform: "Платформа",
    allRightsReserved: "Все права защищены",
    weekDays: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
    months: ["янв", "фев", "мар", "апр", "май", "июн", "июл", "авг", "сен", "окт", "ноя", "дек"],
    entriesCount: "Всего {count} записей",
    generalSettings: "Основные настройки",
    securityPrivacy: "Безопасность и конфиденциальность",
    searchDiary: "Поиск дневника",
    searchPlaceholder: "Введите ключевые слова для поиска дневника...",
    searchStart: "Введите ключевые слова, чтобы начать поиск",
    searchNoResults: "Дневник, содержащий \"{query}\", не найден",
    searchResultsCount: "Найдено {count} результатов"
    ,
    securityEnableTitle: "Защита при запуске",
    securityEnableLabel: "Включить защиту паролем",
    securityEnableDesc: "Требуется аутентификация при запуске",
    securityMethodConfig: "Настройка метода аутентификации:",
    pinMethod: "PIN",
    pinStatusSet: "Настроено",
    pinStatusNotSet: "Не настроено",
    pinSetSuccess: "PIN установлен",
    pinCancel: "Удалить PIN",
    pinLabelSet: "Установить PIN",
    pinLabelEdit: "Изменить PIN",
    pinPlaceholder: "Введите 4–8 цифр",
    pinConfirmLabel: "Подтвердите PIN",
    pinConfirmPlaceholder: "Введите PIN ещё раз",
    totpMethod: "Аутентификатор",
    totpConfigured: "Аутентификатор настроен",
    totpConfiguredDesc: "Приложение-аутентификатор связано с аккаунтом",
    totpCancel: "Удалить аутентификатор",
    totpGenerateSecret: "Сгенерировать секрет аутентификатора",
    securityAtLeastOne: "Настройте минимум один метод или отключите защиту сверху",
    totpScanQr: "Сканировать QR-код",
    totpScanDesc: "Сканируйте через Google/Microsoft Authenticator и т.п.",
    totpManualInput: "Секрет для ручного ввода:",
    totpCopySecret: "Копировать секрет",
    totpEnterCodeConfirm: "Введите код для подтверждения",
    totpCodePlaceholder: "Введите 6-значный код",
    totpVerifyButton: "Проверить",
    totpGetCodeHint: "Получите код из приложения-аутентификатора",
    totpVerifiedSaveReady: "Код подтверждён, можно сохранять",
    pinTooShort: "PIN должен быть не менее 4 цифр",
    pinMismatch: "PIN не совпадает",
    totpClickVerify: "Нажмите \"Проверить\" для подтверждения кода",
    totpMissingSecret: "Сначала сгенерируйте секрет"
  }
};

export const languageNames = {
  'zh-CN': '简体中文',
  'zh-TW': '繁體中文',
  'en': 'English',
  'ja': '日本語',
  'ko': '한국어',
  'ru': 'Русский'
};

export type Language = keyof typeof translations;
let currentLang: Language = 'zh-CN';

// Load language from localStorage
if (typeof window !== 'undefined') {
  const saved = localStorage.getItem('calendar-diary-language') as Language;
  if (saved && translations[saved]) {
    currentLang = saved;
  }
}

export const setLanguage = (lang: Language) => {
  currentLang = lang;
  if (typeof window !== 'undefined') {
    localStorage.setItem('calendar-diary-language', lang);
  }
};

export const getCurrentLanguage = () => currentLang;

export const t = (key: keyof typeof translations['zh-CN']): string => {
  const dict = translations[currentLang] as typeof translations['zh-CN'];
  const value = dict[key] as unknown;
  if (Array.isArray(value)) {
    return key as string;
  }
  return (value as string) || (key as string);
};

export const getMonthName = (monthIndex: number): string => {
  return translations[currentLang].months[monthIndex];
};

export const getWeekDay = (dayIndex: number): string => {
  return translations[currentLang].weekDays[dayIndex];
};
